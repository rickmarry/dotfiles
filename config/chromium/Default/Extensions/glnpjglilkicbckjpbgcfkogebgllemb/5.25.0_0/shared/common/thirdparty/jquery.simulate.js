(function(a,l){var n=/^key/,i=/^(?:mouse|contextmenu)|click/,c=/^touch/,r=window;a.simulateSetDefaultWindow=function(e){r=e};a.fn.simulate=function(e,t){return this.each(function(){new a.simulate(this,e,t)})};a.simulate=function(e,t,n){var i=a.camelCase("simulate-"+t);this.target=e;this.options=n;if(this[i]){this[i]()}else{this.simulateEvent(e,t,n)}};a.extend(a.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}});a.extend(a.simulate.prototype,{simulateEvent:function(e,t,n){var i=this.createEvent(t,n);this.dispatchEvent(e,t,i,n)},createEvent:function(e,t){if(n.test(e)){return this.keyEvent(e,t)}if(i.test(e)){return this.mouseEvent(e,t)}if(c.test(e)){return this.touchEvent(e,t)}},mouseEvent:function(e,t){var n,i,c,o;t=a.extend({bubbles:true,cancelable:e!=="mousemove",view:r,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:l},t);if(document.createEvent){n=document.createEvent("MouseEvents");n.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||a(this.target)[0].ownerDocument.body.parentNode);if(n.pageX===0&&n.pageY===0&&Object.defineProperty){i=n.relatedTarget.ownerDocument||document;c=i.documentElement;o=i.body;Object.defineProperty(n,"pageX",{get:function(){return t.clientX+(c&&c.scrollLeft||o&&o.scrollLeft||0)-(c&&c.clientLeft||o&&o.clientLeft||0)}});Object.defineProperty(n,"pageY",{get:function(){return t.clientY+(c&&c.scrollTop||o&&o.scrollTop||0)-(c&&c.clientTop||o&&o.clientTop||0)}})}}else if(document.createEventObject){n=document.createEventObject();a.extend(n,t);n.button={0:1,1:4,2:2}[n.button]||n.button}return n},touchEvent:function(e,t){var n=this.mouseEvent(e,t);n.changedTouches=n.touches=[{identifier:Date.now()+Math.random(),clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY}];return n},keyEvent:function(t,n){var i;n=a.extend({bubbles:true,cancelable:true,view:r,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:l},n);if(document.createEvent){try{i=document.createEvent("KeyEvents");i.initKeyEvent(t,n.bubbles,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode)}catch(e){i=document.createEvent("Events");i.initEvent(t,n.bubbles,n.cancelable);a.extend(i,{view:n.view,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,keyCode:n.keyCode,charCode:n.charCode})}}else if(document.createEventObject){i=document.createEventObject();a.extend(i,n)}if(!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||{}.toString.call(window.opera)==="[object Opera]"){i.keyCode=n.charCode>0?n.charCode:n.keyCode;i.charCode=l}return i},dispatchEvent:function(e,t,n){if(e.dispatchEvent){e.dispatchEvent(n)}else if(e.fireEvent){e.fireEvent("on"+t,n)}},simulateFocus:function(){var e,t=false,n=a(this.target);function i(){t=true}n.bind("focus",i);n[0].focus();if(!t){e=a.Event("focusin");e.preventDefault();n.trigger(e);n.triggerHandler("focus")}n.unbind("focus",i)},simulateBlur:function(){var e,t=false,n=a(this.target);function i(){t=true}n.bind("blur",i);n[0].blur();setTimeout(function(){if(n[0].ownerDocument.activeElement===n[0]){n[0].ownerDocument.body.focus()}if(!t){e=a.Event("focusout");e.preventDefault();n.trigger(e);n.triggerHandler("blur")}n.unbind("blur",i)},1)},simulateClick:function(){var e=a(this.target)[0];if(e.click){e.click()}else{this.simulateEvent(this.target,"click",this.options)}},simulateInput:function(){var e=this.htmlEvent("input",{bubbles:true,cancelable:true});this.dispatchEvent(a(this.target)[0],"input",e)},simulateChange:function(){var e=this.htmlEvent("change",{bubbles:false,cancelable:true});this.dispatchEvent(a(this.target)[0],"change",e)},htmlEvent:function(e,t){var n;if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(e,t.bubbles,t.cancelable)}else if(document.createEventObject){n=document.createEventObject();a.extend(n,t)}return n}});function f(e){var t,n=a(e.ownerDocument);e=a(e);t=e.offset();return{x:t.left+e.outerWidth()/2-n.scrollLeft(),y:t.top+e.outerHeight()/2-n.scrollTop()}}function v(e){var t,n=a(e.ownerDocument);e=a(e);t=e.offset();return{x:t.left-n.scrollLeft(),y:t.top-n.scrollTop()}}a.extend(a.simulate.prototype,{simulateDrag:function(){var e=0,t=this.target,n=this.options,i=n.handle==="corner"?v(t):f(t),c=Math.floor(i.x),o=Math.floor(i.y),a={clientX:c,clientY:o},r=n.dx||(n.x!==l?n.x-c:0),u=n.dy||(n.y!==l?n.y-o:0),s=n.moves||3;this.simulateEvent(t,"mousedown",a);for(;e<s;e++){c+=r/s;o+=u/s;a={clientX:Math.round(c),clientY:Math.round(o)};this.simulateEvent(document,"mousemove",a)}this.simulateEvent(t,"mouseup",a);this.simulateEvent(t,"click",a)}})})($okta);