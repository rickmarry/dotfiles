Okta.EventTracker=function(r,t){var c=_okta.extend,n=_okta.isUndefined,e=_okta.partial,s=Okta.Q,l=s.all,a={};var i={sso:{metricsName:"Single Sign-on",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button"}},onTheFlyAppAddition:{metricsName:"On the Fly App Addition",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button",clickNeverButton:"Click never button",clickFooterLink:"Click footer link"}},offline:{metricsName:"Offline flow",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button"}},popover:{metricsName:"Popover",eventNames:{firstTime:"First time usage",appLaunch:"App launch",appSearch:"App search"}},general:{metricsName:"General",eventNames:{newInstall:"New plugin installation"}}};function m(){return r.getPluginSettings().then(function(e){return e&&e.orgSettings&&e.orgSettings.pluginMixpanelTrackingEnabled})}function p(t,n){return r.getPluginEvents().then(function(e){e.push({eventName:t,properties:n});return r.setPluginEvents(e)})}a.trackEvent=function(a,i,o){if(!o){o={}}return m().then(function(e){if(!e){return s(false)}return l([r.getVersion(),r.getOktaDomain(),t.getBackgroundVersion()]).spread(function(e,t,n){var r=c({metricsName:a,orgUrl:t?t:"N/A",timestamp:(new Date).getTime(),pluginVersion:n,thrushVersion:e?e.contentVersion:"73.49.0"},o);return p(a+":"+i,r)})})};a.onTheFlyAppAddition={trackShowModal:e(a.trackEvent,i.onTheFlyAppAddition.metricsName,i.onTheFlyAppAddition.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,i.onTheFlyAppAddition.metricsName,i.onTheFlyAppAddition.eventNames.clickPrimaryButton),trackClickNeverButton:e(a.trackEvent,i.onTheFlyAppAddition.metricsName,i.onTheFlyAppAddition.eventNames.clickNeverButton),trackClickFooterLink:e(a.trackEvent,i.onTheFlyAppAddition.metricsName,i.onTheFlyAppAddition.eventNames.clickFooterLink)};a.offline={trackShowModal:e(a.trackEvent,i.offline.metricsName,i.offline.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,i.offline.metricsName,i.offline.eventNames.clickPrimaryButton)};a.general={trackPluginInstalled:function(){return l([r.getVersion(),r.getTrackedFirstTimeActions()]).spread(function(e,t){if(t.pluginInstalled){return s()}if(e&&n(t.pluginInstalled)){return s()}return a.trackEvent(i.general.metricsName,i.general.eventNames.newInstall).then(function(e){t.pluginInstalled=e!==false;return r.setTrackedFirstTimeActions(t)})})}};a.popover={trackFirstTimeLaunch:function(){return l([r.getVersion(),r.getTrackedFirstTimeActions()]).spread(function(e,t){if(t.popoverLaunched){return s()}if(e&&n(t.pluginInstalled)){return s()}return a.trackEvent(i.popover.metricsName,i.popover.eventNames.firstTime).then(function(e){t.popoverLaunched=e!==false;r.setTrackedFirstTimeActions(t)})})},trackAppLaunch:e(a.trackEvent,i.popover.metricsName,i.popover.eventNames.appLaunch),trackAppSearch:e(a.trackEvent,i.popover.metricsName,i.popover.eventNames.appSearch)};a.singleSignOn={trackShowModal:e(a.trackEvent,i.sso.metricsName,i.sso.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,i.sso.metricsName,i.sso.eventNames.clickPrimaryButton)};function o(){return s()}a.changePassword={trackShowModal:o,trackGenerateNewRandomPassword:o,trackGenerateNewRandomPasswordClick:o,trackFillWithGeneratedRandomPassword:o,trackAutofillExistingPassword:o,trackCopyToClipboard:o};a.generatePasswordOnSignUp={trackShowModal:o,trackGenerateNewRandomPassword:o,trackGenerateNewRandomPasswordClick:o,trackFillWithGeneratedRandomPassword:o,trackCopyToClipboard:o,trackDisableGeneratePassword:o,trackCloseModal:o};a.antiPhishingWarning={trackShowModal:o,trackGetMeOutOfHere:o,trackContinueAnyway:o};a.antiPhishingError={trackShowModal:o,trackCloseTab:o};return a};